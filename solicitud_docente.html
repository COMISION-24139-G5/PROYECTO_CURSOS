<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>G5 NODE JS</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header class="header">
      <nav>
        <a href="#Inicio" class="logo">Solicitud docente</a>
        <div class="min-menu">
          <ul class="menu">
            <a class="anchor1" href="index.html"
              ><li class="menuItem">Inicio</li></a
            >
            <a class="anchor1" href="cursos.html"
              ><li class="menuItem">Cursos</li></a
            >
            <a class="anchor1" href="info-adicional.html"
              ><li class="menuItem">Info Adicional</li></a
            >
            <a class="anchor1" href="solicitud_docente.html"
              ><li class="menuItem">Solicitud Docente</li></a
            >
            <a class="anchor1" href="contacto.html"
              ><li class="menuItem">Contacto</li></a
            >
            <a class="anchor1 login" href="login.html">
              <li class="menuItem">
                <i class="fa fa-user"></i>
                <p>LOGIN</p>
              </li>
            </a>
          </ul>
          <button class="hamburger">
            <i class="menuIcon material-icons">menu</i>
            <i class="closeIcon material-icons">close</i>
          </button>
        </div>
        <ul class="menu-large">
          <a class="anchor1" href="index.html"
            ><li class="large-nav-item">Inicio</li></a
          >
          <a class="anchor1" href="cursos.html"
            ><li class="large-nav-item">Cursos</li></a
          >
          <a class="anchor1" href="info-adicional.html"
            ><li class="large-nav-item">Info Adicional</li></a
          >
          <a class="anchor1" href="solicitud_docente.html"
            ><li class="large-nav-item">Solicitud Docente</li></a
          >
          <a class="anchor1" href="contacto.html"
            ><li class="large-nav-item">Contacto</li></a
          >
          <a class="anchor1 login" href="login.html">
            <li class="large-nav-item">
              <i class="fa fa-user"></i>
              <p>LOGIN</p>
            </li>
          </a>
        </ul>
      </nav>
    </header>

    <br /><br /><br /><br />

    <form
      class="solicitud_docente"
      id="solicitud-form"
      action="/enviar_solicitud"
      method="post"
    >
      <div class="form-section active" id="step-1">
        <h3>Paso 1: Información Personal</h3>
        <label class="label label-required" for="nombre">Nombre:</label><br />
        <input class="input" type="text" id="nombre" name="nombre" required />
        <span class="error-message" id="error-nombre">Complete este dato</span
        ><br /><br />

        <label class="label label-required" for="apellido">Apellido:</label
        ><br />
        <input
          class="input"
          type="text"
          id="apellido"
          name="apellido"
          required
        />
        <span class="error-message" id="error-apellido">Complete este dato</span
        ><br /><br />

        <label class="label label-required" for="email"
          >Correo Electrónico:</label
        ><br />
        <input class="input" type="email" id="email" name="email" required />
        <span class="error-message" id="error-email">Complete este dato</span
        ><br /><br />

        <label class="label" for="telefono_fijo">Teléfono Fijo:</label><br />
        <input
          class="input"
          type="tel"
          id="telefono_fijo"
          name="telefono_fijo"
        /><br /><br />

        <label class="label label-required" for="telefono_movil"
          >Teléfono Móvil:</label
        ><br />
        <input
          class="input"
          type="tel"
          id="telefono_movil"
          name="telefono_movil"
          required
        />
        <span class="error-message" id="error-telefono_movil"
          >Complete este dato</span
        ><br /><br />

        <button class="button button1" type="button" onclick="nextStep(event)">
          Siguiente
        </button>
      </div>

      <div class="form-section" id="step-2">
        <h3>Paso 2: Información de Contacto</h3>
        <label class="label label-required" for="direccion">Dirección:</label
        ><br />
        <input
          class="input"
          type="text"
          id="direccion"
          name="direccion"
          required
        />
        <span class="error-message" id="error-direccion"
          >Complete este dato</span
        ><br /><br />

        <label class="label label-required" for="ciudad">Ciudad:</label><br />
        <input class="input" type="text" id="ciudad" name="ciudad" required />
        <span class="error-message" id="error-ciudad">Complete este dato</span
        ><br /><br />

        <label class="label label-required" for="provincia">Provincia:</label
        ><br />
        <input
          class="input"
          type="text"
          id="provincia"
          name="provincia"
          required
        />
        <span class="error-message" id="error-provincia"
          >Complete este dato</span
        ><br /><br />

        <label class="label label-required" for="codigo_postal"
          >Código Postal:</label
        ><br />
        <input
          class="input"
          type="text"
          id="codigo_postal"
          name="codigo_postal"
          required
        />
        <span class="error-message" id="error-codigo_postal"
          >Complete este dato</span
        ><br /><br />

        <button class="button button1" type="button" onclick="prevStep(event)">
          Anterior
        </button>
        <button class="button button1" type="button" onclick="nextStep(event)">
          Siguiente
        </button>
      </div>

      <div class="form-section" id="step-3">
        <h3>Paso 3: Curso a Aplicar</h3>
        <p>Selecciona el curso al que deseas aplicar:</p>
        <input type="checkbox" id="curso_1" name="curso" value="Java Script" />
        <label class="label" for="curso_1">Java Script</label><br />
        <input type="checkbox" id="curso_2" name="curso" value="React" />
        <label class="label" for="curso_2">React</label><br />
        <input type="checkbox" id="curso_3" name="curso" value="Full Stack" />
        <label class="label" for="curso_3">Full Stack</label><br />
        <input type="checkbox" id="curso_4" name="curso" value="UX/UI" />
        <label class="label" for="curso_4">UX/UI</label><br />

        <div class="buttons">
          <button
            class="button button1"
            type="button"
            onclick="prevStep(event)"
          >
            Anterior
          </button>
          <button
            class="button button1"
            type="button"
            onclick="nextStep(event)"
          >
            Siguiente
          </button>
        </div>
      </div>

      <div class="form-section" id="step-4">
        <h3>Paso 4: Curriculum Vitae</h3>
        <label class="label label-required" for="curriculum"
          >Cargar Curriculum Vitae:</label
        ><br />
        <input
          class="input"
          type="file"
          id="curriculum"
          name="curriculum"
          accept=".pdf,.doc,.docx"
          required
        />
        <span class="error-message" id="error-curriculum"
          >Complete este dato</span
        ><br /><br />

        <button class="button button1" type="button" onclick="prevStep(event)">
          Anterior
        </button>
        <input class="button button2" type="submit" value="Enviar Solicitud" />
      </div>

      <!-- Modal de éxito -->
      <div id="success-modal" class="modal" style="display: none">
        <div class="modal-content">
          <span class="close">&times;</span>
          <p>La solicitud fue enviada exitosamente!</p>
        </div>
      </div>
    </form>

    <script>
      let currentStep = 1;

      function nextStep(event) {
        event.preventDefault();
        if (validateStep(currentStep)) {
          currentStep++;
          showStep(currentStep);
        }
      }

      function prevStep(event) {
        event.preventDefault();
        currentStep--;
        showStep(currentStep);
      }

      function showStep(step) {
        const sections = document.querySelectorAll(".form-section");
        sections.forEach((section) => {
          section.classList.remove("active");
        });
        document.getElementById("step-" + step).classList.add("active");
      }

      function validateStep(step) {
        const inputs = document.querySelectorAll("#step-" + step + " .input");
        let isValid = true;

        inputs.forEach((input) => {
          const errorMessage = document.getElementById("error-" + input.id);
          if (errorMessage) {
            // Limpiar errores previos
            input.classList.remove("error");
            errorMessage.classList.remove("active");

            // Verificar que el campo no esté vacío
            if (!input.value.trim()) {
              isValid = false;
              input.classList.add("error");
              errorMessage.textContent = "Complete este dato";
              errorMessage.classList.add("active");
            } else {
              // Validación adicional para el correo electrónico
              if (input.type === "email" && !validateEmail(input.value)) {
                isValid = false;
                input.classList.add("error");
                errorMessage.textContent = "Ingrese un correo válido";
                errorMessage.classList.add("active");
              }
            }
          }
        });

        return isValid;
      }

      function validateEmail(email) {
        const re =
          /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
        return re.test(String(email).toLowerCase());
      }
      document
        .getElementById("solicitud-form")
        .addEventListener("submit", function (event) {
          event.preventDefault(); // Evita el envío real del formulario

          // Mostrar el modal
          const modal = document.getElementById("success-modal");
          modal.style.display = "block";

          // Cerrar el modal al hacer clic en (x)
          document
            .querySelector(".close")
            .addEventListener("click", function () {
              modal.style.display = "none";
            });

          // Cerrar el modal al hacer clic fuera de él
          window.onclick = function (event) {
            if (event.target == modal) {
              modal.style.display = "none";
            }
          };

          // Limpiar el formulario
          this.reset();
        });
    </script>
  </body>
</html>
